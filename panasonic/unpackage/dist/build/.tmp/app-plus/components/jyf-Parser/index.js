(global["webpackJsonp"]=global["webpackJsonp"]||[]).push([["components/jyf-Parser/index"],{"0d7b":function(t,e,n){"use strict";var r=function(){var t=this,e=t.$createElement;t._self._c},i=[];n.d(e,"a",function(){return r}),n.d(e,"b",function(){return i})},"0df1":function(t,e,n){"use strict";var r=n("1dd6"),i=n.n(r);i.a},"1dd6":function(t,e,n){},e087:function(t,e,n){"use strict";n.r(e);var r=n("0d7b"),i=n("fc7a");for(var o in i)"default"!==o&&function(t){n.d(e,t,function(){return i[t]})}(o);n("0df1");var a=n("2877"),l=Object(a["a"])(i["default"],r["a"],r["b"],!1,null,null,null);e["default"]=l.exports},e772:function(t,e,n){"use strict";(function(t,r){Object.defineProperty(e,"__esModule",{value:!0}),e.default=void 0;var i,o=function(){return n.e("components/jyf-Parser/trees").then(n.bind(null,"6cee"))},a=n("8356").parseHtmlSync,l=getApp().parserCache={},s=n("0986"),u=function(t){for(var e=0,n=5381,r=t.length;e<r;e++)n+=(n<<5)+t.charCodeAt(e);return n},c=t.createAnimation({timingFunction:"ease"}).opacity(1).step().export(),d=n("9030"),f={name:"parser",data:function(){return{loadVideo:!1,showAnimation:{},controls:{},nodes:[]}},components:{trees:o},props:{html:{type:null,default:null},autocopy:{type:Boolean,default:!0},autopause:{type:Boolean,default:!0},autopreview:{type:Boolean,default:!0},autosetTitle:{type:Boolean,default:!0},domain:{type:String,default:null},imgMode:{type:String,default:"default"},lazyLoad:{type:Boolean,default:!1},selectable:{type:Boolean,default:!1},tagStyle:{type:Object,default:function(){return{}}},showWithAnimation:{type:Boolean,default:!1},useAnchor:{type:Boolean,default:!1},useCache:{type:Boolean,default:!1}},watch:{html:function(t){function e(e){return t.apply(this,arguments)}return e.toString=function(){return t.toString()},e}(function(t){this.setContent(t,void 0,!0)})},mounted:function(){this.imgList=[],this.imgList.each=function(t){for(var e=0;e<this.length;e++)this[e]=t(this[e],e,this)||this[e]},this.setContent(this.html,void 0,!0)},methods:{setContent:function(e,n,o){var f=this;if("object"==typeof n)for(var h in n)h=h.replace(/-(\w)/g,function(){return arguments[1].toUpperCase()}),this[h]=n[h];if(this.showWithAnimation&&(this.showAnimation=c),e)if("string"==typeof e){var v;if(this.useCache){var m=u(e);l[m]?v=l[m]:(v=a(e,this),l[m]=v)}else v=a(e,this);this.nodes=v,this.$emit("parse",v)}else if(e.constructor==Array){if(e.length&&"Parser"!=e[0].PoweredBy){var y={_imgNum:0,_videoNum:0,_audioNum:0,_domain:this.domain,_protocol:this.domain?this.domain.includes("://")?this.domain.split("://")[0]:"http":void 0,_STACK:[],CssHandler:new s(this.tagStyle),bubbling:function(){for(var t=this._STACK.length-1;t>=0;t--){if(0===d.trustTags[this._STACK[t].name])return this._STACK[t].name;this._STACK[t].continue=!0}}};y.CssHandler.getStyle("");var p=function t(e){var n=!0,r=!1,i=void 0;try{for(var o,a=e[Symbol.iterator]();!(n=(o=a.next()).done);n=!0){var l=o.value;"text"!=l.type&&(d.LabelAttrsHandler(l,y),d.blockTags[l.name]?l.name="div":d.trustTags.hasOwnProperty(l.name)||(l.name="span"),l.children&&l.children.length&&(y._STACK.push(l),t(l.children),y._STACK.pop()))}}catch(s){r=!0,i=s}finally{try{n||null==a.return||a.return()}finally{if(r)throw i}}};p(e),this.nodes=e}this.nodes=o?[]:e}else{if("object"!=typeof e||!e.nodes)return this.$emit("error",{source:"parse",errMsg:"传入的nodes数组格式不正确！应该传入的类型是array，实际传入的类型是："+typeof e.nodes});this.nodes=e.nodes,console.warn(r("Parser 类型错误：object 类型已废弃，请直接将 html 设置为 object.nodes （array 类型）"," at components\\jyf-Parser\\index.vue:441"))}else{if(o)return;this.nodes=[]}this.loadVideo=!1,i&&(this.document=new i("html",this.html||e,this)),this.$nextTick(function(){f.imgList.length=0,f.videoContexts=[];var e=function e(n){var r=!0,i=!1,o=void 0;try{for(var a,l=function(){var n=a.value;if("trees"==n.$options.name){var r=!1,i=!0,o=!1,l=void 0;try{for(var s,c=n.nodes[Symbol.iterator]();!(i=(s=c.next()).done);i=!0){var d=s.value;d.continue||("img"==d.name?(d.attrs.src&&!d.attrs.ignore&&(f.imgList[d.attrs.i]=d.attrs.src),r||(r=!0,f.lazyLoad&&t.createIntersectionObserver?(n._observer&&n._observer.disconnect(),n._observer=t.createIntersectionObserver(n),n._observer.relativeToViewport({top:1e3,bottom:1e3}).observe(".img",function(t){n.imgLoad=!0,n._observer.disconnect(),n._observer=null})):n.imgLoad=!0)):"video"==d.name?(u=t.createVideoContext(d.attrs.id,n),u.id=d.attrs.id,f.videoContexts.push(u)):"title"==d.name&&"text"==d.children[0].type&&d.children[0].text&&f.autosetTitle&&t.setNavigationBarTitle({title:d.children[0].text}))}}catch(h){o=!0,l=h}finally{try{i||null==c.return||c.return()}finally{if(o)throw l}}}n.$children.length&&e(n.$children)},s=n[Symbol.iterator]();!(r=(a=s.next()).done);r=!0){var u;l()}}catch(c){i=!0,o=c}finally{try{r||null==s.return||s.return()}finally{if(i)throw o}}};e(f.$children),t.createSelectorQuery().in(f).select("._contain").boundingClientRect(function(t){f.$emit("ready",t)}).exec(),setTimeout(function(){f.loadVideo=!0},3e3)})},getText:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0],e="",n=function n(r){if("text"==r.type)return e+=r.text;t&&(("p"==r.name||"div"==r.name||"tr"==r.name||"li"==r.name||/h[1-6]/.test(r.name))&&e&&"\n"!=e[e.length-1]||"br"==r.name)&&(e+="\n");var i=!0,o=!1,a=void 0;try{for(var l,s=(r.children||[])[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var u=l.value;n(u)}}catch(c){o=!0,a=c}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}t&&("p"==r.name||"div"==r.name||"tr"==r.name||"li"==r.name||/h[1-6]/.test(r.name))&&e&&"\n"!=e[e.length-1]?e+="\n":t&&"td"==r.name&&(e+="\t")},r=this.nodes&&this.nodes.length?this.nodes:html[0]&&(html[0].name||html[0].type)?html:[];if(!r.length)return"";var i=!0,o=!1,a=void 0;try{for(var l,s=r[Symbol.iterator]();!(i=(l=s.next()).done);i=!0){var u=l.value;n(u)}}catch(c){o=!0,a=c}finally{try{i||null==s.return||s.return()}finally{if(o)throw a}}return e},navigateTo:function(e){var n=this,r=function(r,i){var o=t.createSelectorQuery().in(i||n);o.select(r).boundingClientRect(),o.selectViewport().scrollOffset(),o.exec(function(n){if(!n||!n[0])return e.fail?e.fail({errMsg:"Label Not Found"}):null;t.pageScrollTo({scrollTop:n[1].scrollTop+n[0].top,success:e.success,fail:e.fail})})};e.id?r("._contain >>> #"+e.id):r("._contain")},getVideoContext:function(t){if(!t)return this.videoContexts;var e=!0,n=!1,r=void 0;try{for(var i,o=this.videoContexts[Symbol.iterator]();!(e=(i=o.next()).done);e=!0){var a=i.value;if(a.id==t)return a}}catch(l){n=!0,r=l}finally{try{e||null==o.return||o.return()}finally{if(n)throw r}}return null}}};e.default=f}).call(this,n("6e42")["default"],n("0de9")["default"])},fc7a:function(t,e,n){"use strict";n.r(e);var r=n("e772"),i=n.n(r);for(var o in r)"default"!==o&&function(t){n.d(e,t,function(){return r[t]})}(o);e["default"]=i.a}}]);
;(global["webpackJsonp"] = global["webpackJsonp"] || []).push([
    'components/jyf-Parser/index-create-component',
    {
        'components/jyf-Parser/index-create-component':(function(module, exports, __webpack_require__){
            __webpack_require__('6e42')['createComponent'](__webpack_require__("e087"))
        })
    },
    [['components/jyf-Parser/index-create-component']]
]);                
